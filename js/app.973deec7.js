(function(t){function a(a){for(var n,i,o=a[0],c=a[1],l=a[2],u=0,f=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(a);while(f.length)f.shift()();return s.push.apply(s,l||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],n=!0,o=1;o<e.length;o++){var c=e[o];0!==r[c]&&(n=!1)}n&&(s.splice(a--,1),t=i(i.s=e[0]))}return t}var n={},r={app:0},s=[];function i(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=n,i.d=function(t,a,e){i.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,a){if(1&a&&(t=i(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)i.d(e,n,function(a){return t[a]}.bind(null,n));return e},i.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(a,"a",a),a},i.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},i.p="/vacations/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var l=0;l<o.length;l++)a(o[l]);var d=c;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";e("85ec")},3801:function(t,a,e){},"466e":function(t,a,e){"use strict";e("af06")},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),r=e("2f62"),s=e("b85c"),i=(e("7db0"),{state:{workers:[{user_id:1,name:"Иванов Иван Иванович",vacations:[{days_res:14,days:14,require:!0,discription:"Неразрывный отпуск"},{days_res:38,days:38,discription:"Основной отпуск"},{days_res:14,days:14,discription:"За доп должность"}],boss_id:1,level:0},{user_id:2,name:"Петров Петр Петрович",uncut_days:14,discription_uncut:"Неразрывный отпуск",generDays:30,discription_gener:"Основной отпуск",dopDays:7,discription_dop:"За доп должность",boss_id:1,level:0},{user_id:2,name:"Селиванов Валерка",vacations:[{days:14,require:!0,discription:"Неразрывный отпуск"},{days:26,discription:"Основной отпуск"},{days:10,discription:"За доп должность"}],boss_id:1,level:0}],limitation_days:[{user_id:1,limit:[{discription:"Приёмка",start_day:"2021-07-01",end_day:"2021-08-20"},{discription:"Просто нельзя",start_day:"2021-09-01",end_day:"2021-10-01"}]},{user_id:2,limit:[{discription:"Приёмка",start_day:"2021 - 06 - 01",end_day:"2021 - 07 - 20"},{discription:"Просто нельзя",start_day:"2021 - 09 - 01",end_day:"2021 - 010 - 01"}]},{user_id:3,limit:[{discription:"Приёмка",start_day:"2021 - 07 - 01",end_day:"2021 - 08 - 20"},{discription:"Просто нельзя",start_day:"2021 - 09 - 01",end_day:"2021 - 010 - 01"}]}],targetsDays:[{user_id:1,days:[{start:null,end:null,all:null}]},{user_id:2,days:[{start:null,end:null,all:null}]},{user_id:3,days:[{start:null,end:null,all:null}]}],vacations:[]},actions:{},mutations:{newVacation:function(t,a){t.vacations.push(a)},changeVacationsDaysOfUser:function(t,a){var e=a.couteredDays,n=a.select;t.workers[0].vacations.find((function(t){return t.discription==n})).days=t.workers[0].vacations.find((function(t){return t.discription==n})).days-e}},getters:{allUsers:function(t){return t.workers},allVacations:function(t){return t.vacations},sumDaysVacationsUser:function(t){var a,e=0,n=Object(s["a"])(t.workers[0].vacations);try{for(n.s();!(a=n.n()).done;){var r=a.value;e+=r.days}}catch(i){n.e(i)}finally{n.f()}return e}}}),o=e("c7d4"),c=e.n(o);n["a"].use(r["a"]);var l=new r["a"].Store({modules:{workers:i,auth:c.a}}),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"wrapper"},[e("PersonInfo",{staticClass:"person-info"}),e("TabletForm",{staticClass:"tablet-form"}),e("FilterPage"),e("GlobalCalendar")],1)])},u=[],f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"person-info"},[e("div",{staticClass:"person-info__bio"},[e("h2",[t._v("ФИО: "+t._s(t.allUsers[0].name))]),e("p",[t._v("Должность:")]),e("p",[t._v("Стаж:")]),e("p",[t._v("Всего дней отпуска: "+t._s(t.sumDaysVacationsUser))])]),e("table",{staticClass:"table",attrs:{border:"1",bordercolor:"black"}},[t._m(0),t._l(t.allUsers[0].vacations,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.discription))]),e("td",[t._v(t._s(a.days_res))]),e("td",[t._v(t._s(a.days_res-a.days))]),e("td",[t._v(t._s(a.days))])])}))],2)])},p=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",[t._v("Вид отпуска")]),e("td",[t._v("Всего дней")]),e("td",[t._v("Исползовано дней")]),e("td",[t._v("Осталось дней")])])}],_=e("5530"),v={data:function(){return{}},computed:Object(_["a"])({},Object(r["b"])(["allUsers","sumDaysVacationsUser","allVacations"]))},y=v,b=(e("a4ec"),e("2877")),m=Object(b["a"])(y,f,p,!1,null,"ff162fde",null),g=m.exports,h=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"filter-page"},[e("form",{staticClass:"filter-page__form",on:{submit:function(a){return a.preventDefault(),t.submitForm(a)}}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.targetVacation.select,expression:"targetVacation.select"}],staticClass:"filter-page__select",attrs:{required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.targetVacation,"select",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"Неразрывный отпуск",disabled:t.disabledOptions}},[t._v(" Неразрывный отпуск ")]),e("option",{attrs:{value:"Основной отпуск",disabled:t.disabledOptions}},[t._v(" Основной отпуск ")]),e("option",{attrs:{value:"За доп должность",disabled:t.disabledOptions}},[t._v(" За доп должность ")])]),e("fieldset",{staticClass:"filter-page__fieldset"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.targetVacation.dataStart,expression:"targetVacation.dataStart"}],attrs:{type:"date",required:""},domProps:{value:t.targetVacation.dataStart},on:{input:function(a){a.target.composing||t.$set(t.targetVacation,"dataStart",a.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.targetVacation.dataEnd,expression:"targetVacation.dataEnd"}],attrs:{type:"date",required:"",min:t.targetVacation.dataStart,max:t.countMaxDays},domProps:{value:t.targetVacation.dataEnd},on:{change:t.counterDaysVacations,input:function(a){a.target.composing||t.$set(t.targetVacation,"dataEnd",a.target.value)}}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.counterDays,expression:"counterDays"}],staticClass:"filter-page__out-day",attrs:{placeholder:"Выбрано дней",type:"text",readonly:""},domProps:{value:t.counterDays},on:{input:function(a){a.target.composing||(t.counterDays=a.target.value)}}}),e("button",{staticClass:"filter-page__btn",attrs:{type:"submit"}},[t._v("SUBMIT")])])])},V=[],w=(e("99af"),{data:function(){return{targetVacation:{select:"Неразрывный отпуск",dataStart:"",dataEnd:""},counterDays:null,maxDay:null}},methods:Object(_["a"])(Object(_["a"])({},Object(r["c"])(["newVacation","changeVacationsDaysOfUser"])),{},{submitForm:function(){var t=Math.floor((new Date(this.targetVacation.dataEnd)-new Date(this.targetVacation.dataStart))/864e5)+1,a={select:this.targetVacation.select,dataStart:this.targetVacation.dataStart,dataEnd:this.targetVacation.dataEnd,all_days:t};this.newVacation(a);var e=this.counterDays,n=this.targetVacation.select;this.changeVacationsDaysOfUser({couteredDays:e,select:n})},counterDaysVacations:function(){this.counterDays=Math.floor((new Date(this.targetVacation.dataEnd)-new Date(this.targetVacation.dataStart))/864e5)+1}}),computed:Object(_["a"])(Object(_["a"])({},Object(r["b"])(["allVacations"])),{},{disabledOptions:function(){return!1},countMaxDays:function(){var t=this,a=new Date(this.targetVacation.dataStart),e=this.$store.state.workers.workers[0].vacations.find((function(a){return a.discription==t.targetVacation.select})).days;a.setDate(a.getDate()-1+e);var n=a.getDate();n<10&&(n="0".concat(n));var r=a.getMonth()+1;r<10&&(r="0".concat(r));var s=a.getFullYear();return"".concat(s,"-").concat(r,"-").concat(n)}})}),O=w,D=(e("5943"),Object(b["a"])(O,h,V,!1,null,"635ae84b",null)),j=D.exports,S=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div")},x=[],E={},C=E,k=Object(b["a"])(C,S,x,!1,null,"2c636130",null),P=k.exports,$=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("form",{staticClass:"tablet-form"},[e("table",{staticClass:"tablet-form__table",attrs:{border:"1",bordercolor:"black"}},[t._m(0),e("tbody",[t._l(t.allVacations,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.select?a.select:""))]),e("td",[t._v(" "+t._s(a.dataStart?a.dataStart:"")+" -- "+t._s(a.dataEnd)+" ")]),e("td",[t._v(t._s(a.all_days?a.all_days:""))])])})),e("tr",{directives:[{name:"show",rawName:"v-show",value:!t.allVacations.length,expression:"!allVacations.length"}]},[e("td"),e("td"),e("td")])],2)]),e("button",{staticClass:"tablet-form__btn",attrs:{type:"submit"}},[t._v("Submit tablet")])])},M=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("td",[t._v("Вид отпуска")]),e("td",[t._v("Даты")]),e("td",[t._v("Всего дней")])])])}],U={data:function(){return{}},computed:Object(_["a"])(Object(_["a"])({},Object(r["b"])(["allVacations"])),{},{counterDaysVacations:function(){var t,a,e=Object(s["a"])(this.allVacations);try{for(e.s();!(a=e.n()).done;){var n=a.value;t=Math.floor((new Date(n.dataEnd)-new Date(n.dataStart))/864e5)+1}}catch(r){e.e(r)}finally{e.f()}return t}})},F=U,T=(e("466e"),Object(b["a"])(F,$,M,!1,null,"de89334e",null)),q=T.exports,N={name:"App",components:{PersonInfo:g,TabletForm:q,FilterPage:j,GlobalCalendar:P},data:function(){return{}}},I=N,A=(e("034f"),Object(b["a"])(I,d,u,!1,null,null,null)),G=A.exports;n["a"].config.productionTip=!1,new n["a"]({store:l,render:function(t){return t(G)}}).$mount("#app")},5943:function(t,a,e){"use strict";e("5a25")},"5a25":function(t,a,e){},"85ec":function(t,a,e){},a4ec:function(t,a,e){"use strict";e("3801")},af06:function(t,a,e){},c7d4:function(t,a){}});
//# sourceMappingURL=app.973deec7.js.map